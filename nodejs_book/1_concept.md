## 핵심 개념

#### 노드는 서버로서 사용되기도 하고 런타임으로 사용하기도 한다.

- 1.1.1. **서버**
  - 노드는 자바스크립트 애플리케이션이 서버로서 기능하기 위한 도구를 제공하므로 서버 역할을 수행할 수 있음
- 1.1.2. 자바스크립트 **런타임**
  - 런타임: 특정 언어로 만든 프로그램들을 실행할 수 있는 환경
  - 자바스크립트 런타임: 노드는 자바스크립트 프로그램을 컴퓨터에서 실행할 수 있게 해준다

#### 노드의 특징

- 1.1.3. **이벤트 기반**

  - 이벤트가 발생하면 이벤트 리스너에 등록해둔 콜백 함수를 호출
    - 이벤트 루프: 이벤트 발생 시 호출할 콜백 함수들을 관리하고, 호출된 콜백 함수의 실행 순서를 결정하는 역할을 담당. 노드가 종료될 때까지 이벤트 처리를 위한 작업을 반복하므로 루프라고 불림.
    - 태스크 큐: 이벤트 발생 후 호출되어야 할 콜백 함수들이 기다리는 공간입니다. 콜백들이 이벤트 루프가 정한 순서대로 줄을 서 있으므로 콜백 큐라고도 부릅니다.
    - 백그라운드: 타이머나 I/O 작업 콜백 또는 이벤트 리스너들이 대기하는 곳

    > 호출스택에 setTimeout() => 콜백 run은 백그라운드로 => 백그라운드에서 3초 후 태스크 큐로 보냄 => 호출스택 실행이 끝나 비워지면 이벤트 루프가 태스크 큐의 콜백을 호출 스택으로 올림 => run이 호출 스택에서 실행되고 비워짐

- 1.1.4. **논블로킹 I/O**

  - 이전 작업이 완료될 때까지 멈추지 않고 다음 작업을 수행함

    - 동기는 블로킹과 유사
    - 비동기는 논블로킹과 유사

    > setTimeout(callback, 0)은 코드를 논블로킹으로 만들기 위해 사용하는 기법 중 하나. 하지만 노드에서 이 대신 setImmediate(callback) 사용을 권장 

- 1.1.5. **싱글 스레드**

  - 컴퓨터 작업을 처리할 수 있는 일손이 혼자

    > 사실 노드 프로세스도 내부적으로는 스레드를 여러 개 가지고 있음. 하지만 우리가 직접 제어할 수 있는 스레드는 하나 뿐이므로 흔히 싱글 스레드라고 부르는 것

  - 에러 처리가 중요함. 에러를 처리하지 못하면 서버 전체가 멈춤